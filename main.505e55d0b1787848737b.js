(()=>{var t={265:()=>{console.log('\nScore: 160 / 160\n✅ Часы и календарь + 15\n✅ Приветствие + 10\n✅ Смена фонового изображения + 20\n✅ Виджет погоды + 15\n✅ Виджет цитата дня + 10\n✅ Аудиоплеер + 15\n✅ Продвинутый аудиоплеер + 20\n✅ Перевод приложения на два языка (en/ru) + 15\n✅ Получение фонового изображения от API + 10\n\n  ❗ Плавную смену фоновых изображений не проверяем: \n  1) при загрузке и перезагрузке страницы \n  2) при открытой консоли браузера \n  3) при слишком частых кликах по стрелкам для смены изображения\n  \n✅ Настройки приложения + 20\n✅ Дополнительный функционал на выбор + 10\n  ToDo List - список дел (как в оригинальном приложении):\n  1. Есть возможность создавать/удалять/редактировать туду\n  2. Можно перемещать туду из раздела "Today" в раздел "Inbox" и обратно\n  3. Можно помечать туду как выполненные и они переносятся в раздел "Done"\n  4. При перезагрузке страницы туду и их расположение сохраняются\n')},52:()=>{const t=document.querySelector("#time");!function e(){const o=(new Date).toLocaleTimeString();t.textContent=o,setTimeout(e,1e3)}()},396:()=>{const t=document.querySelector("#settingBtn"),e=document.querySelector("#settingArea"),o=document.querySelector("#todoBtn"),n=document.querySelector("#todoPopup");let a=!1,c=!1;function i(){c&&d(),t.classList.toggle("revert"),e.classList.toggle("show"),a=!a}function d(){a&&i(),o.classList.toggle("revert"),n.classList.toggle("show"),c=!c}document.addEventListener("DOMContentLoaded",(()=>{window.addEventListener("click",(r=>{const l=r.target;if(c&&l!==n&&!n.contains(l)&&l!==o){if(l.classList.contains("todo-item-move")||l.classList.contains("todo-item-delete"))return;d()}a&&l!==e&&!e.contains(l)&&l!==t&&i()}))})),t.addEventListener("click",i),o.addEventListener("click",d)}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var c=e[n]={exports:{}};return t[n](c,c.exports,o),c.exports}(()=>{"use strict";function t(t){t.target.classList.contains("input-inactive")?(t.target.classList.add("input-active"),t.target.classList.remove("input-inactive")):(t.target.classList.add("input-inactive"),t.target.classList.remove("input-active"))}function e(){return localStorage.getItem("lang")?localStorage.getItem("lang"):"en"}const n=new Array;!function(t){for(let e=0;e<t.length;e++)n[e]=new Image,n[e].src=t[e]}(["../img/unmute.png","../img/mute.png","../img/play-audio.png","../img/pause-audio.png"]),function(t){for(let e=0;e<t.length;e++){const o=new Audio;o.src=t[e],o.load()}}(["./audio/chill-vibes.mp3","./audio/chillout.mp3","./audio/easy-guitar.mp3"]);const a=document.querySelector("#quoteChangeBtn"),c=document.querySelector("#quoteText"),i=document.querySelector("#quoteAuthor");let d,r,l;function s(){const t=e();r="en"===t?d.text_en:d.text_ru,l="en"===t?d.author_en:d.author_ru,c.textContent=`«${r}»`,i.textContent=`— ${l}`}async function u(){a.classList.toggle("revert"),await async function(){const t=await async function(){const t=await fetch("data/quotes.json");return await t.json()}();d=t[Math.floor(Math.random()*t.length)],s()}()}a.addEventListener("click",u),u();const m=document.querySelector("#greetingDaytime");async function y(){const t=(new Date).getHours();return t>=6&&t<12?"morning":t>=12&&t<18?"afternoon":t>=18&&t<24?"evening":t>=0||t<6?"night":void 0}async function g(){const t=`${await async function(){const t=await y(),o=e();return"morning"===t?"en"==o?"Good morning":"Доброе утро":"afternoon"===t?"en"==o?"Good afternoon":"Добрый день":"evening"===t?"en"==o?"Good evening":"Добрый вечер":"night"===t?"en"==o?"Good night":"Доброй ночи":void 0}()},`;m.textContent=t,setTimeout(g,1e3)}g();const h=document.querySelector("#greetingName");async function p(){const t=e();h.placeholder="en"===t?"[Enter name]":"[Введите имя]"}function v(){const t=localStorage.getItem("username");t&&(h.value=t)}p(),h.addEventListener("input",(()=>{localStorage.setItem("username",document.querySelector("#greetingName").value)})),h.addEventListener("focus",(e=>t(e))),h.addEventListener("blur",(e=>t(e))),window.addEventListener("load",(()=>{v()}));const f=[{id:1,title_en:"Chill Vibes",title_ru:"Классная Атмосфера",src:"./audio/chill-vibes.mp3",duration:32},{id:2,title_en:"Chillout",title_ru:"Расслабон",src:"./audio/chillout.mp3",duration:22},{id:3,title_en:"Easy Guitar",title_ru:"Легкая гитарка",src:"./audio/easy-guitar.mp3",duration:20}],S=document.querySelector("#audioPlayMain"),x=document.querySelector("#audioNextMain"),L=document.querySelector("#audioPrevMain"),q=document.querySelector("#audioName"),w=document.querySelector("#audioProgress"),b=document.querySelector("#audioProgressFill"),E=document.querySelector("#audioDurationEnd"),C=document.querySelector("#audioDurationCur"),k=document.querySelector("#audioVolumeRange"),$=document.querySelector("#audioVolumeBtn"),_=document.querySelector("#playlist");let M=e();_.innerHTML=`${f.length>0?f.map((t=>`<li class="playlist-item" data-id="${t.id}">\n              <button class="playlist-item__small-btn btn play" title="Play/Pause Audio"></button>\n              <div class="playlist-item__name">${"en"==M?t.title_en:t.title_ru}</div>\n            </li>`)).join(""):"---"}`;const T=document.querySelectorAll(".playlist-item"),I=document.querySelectorAll(".playlist-item__small-btn");let A,D=!1,N=0,H=f[0].duration;const P=new Audio;P.volume=.5,P.src=f[N].src,P.currentTime=0,P.dataset.id=f[N].id,A=document.querySelector(`[data-id="${P.dataset.id}"]`),A.classList.add("active"),q.textContent="en"==M?f[N].title_en:f[N].title_ru,E.textContent=`00:${H}`;let j=A.querySelector("button");function O(){D?(S.classList.add("audio-widget-pause-btn"),S.classList.remove("audio-widget-play-btn")):(S.classList.remove("audio-widget-pause-btn"),S.classList.add("audio-widget-play-btn"))}function B(){D?(j.classList.add("pause"),j.classList.remove("play")):(j.classList.remove("pause"),j.classList.add("play"))}function G(){D?P.pause():P.play(),D=!D,O(),B()}function U(){A.classList.remove("active"),j.classList.remove("pause"),j.classList.add("play"),j.addEventListener("click",G),P.src=f[N].src,P.currentTime=0,P.dataset.id=f[N].id,A=document.querySelector(`[data-id="${P.dataset.id}"]`),j=A.querySelector("button"),P.play(),A.classList.add("active"),j.classList.add("pause"),j.classList.remove("play"),D=!0,O(),B(),q.textContent="en"==M?f[N].title_en:f[N].title_ru,H=f[N].duration,E.textContent=`00:${H}`}function J(){N+1>=f.length?N=0:N++,U()}function R(){const t=[...this.parentElement.childNodes].indexOf(this);t!==N&&(N=t,U())}function W(){P.muted=!0,$.style.backgroundImage="url('./img/mute.png')",k.value=0,Q(0)}function V(){P.muted=!1,$.style.backgroundImage="url('./img/unmute.png')",k.value=P.volume,Q(P.volume)}function Q(t){k.style.background=`linear-gradient(to right, #d8d8d8 0%, #d8d8d8 ${70*t}%, #383838 ${100*t}%, #383838 100%)`}k.addEventListener("input",(t=>{!function(t){const e=+t.value;P.volume=e,Q(e),P.muted&&V(),0===e&&W()}(t.target)})),$.addEventListener("click",(function(){P.muted?V():W()})),S.addEventListener("click",G),x.addEventListener("click",J),L.addEventListener("click",(function(){N-1<0?N=f.length-1:N--,U()})),P.addEventListener("timeupdate",(function(){const t=P.currentTime/P.duration*100,e=Math.floor(P.currentTime).toString().padStart(2,0);b.style.flexBasis=`${t}%`,C.textContent=`00:${e}`,P.currentTime===P.duration&&J()})),I.forEach((t=>{t.addEventListener("click",G)})),T.forEach((t=>{t.addEventListener("click",R)})),w.addEventListener("click",(function(t){const e=t.offsetX/w.offsetWidth*P.duration;P.currentTime=e,b.classList.add("active"),setTimeout((()=>{b.classList.remove("active")}),500)}));const X=document.querySelector("#date"),Y={month:"long",day:"numeric",weekday:"long"};function Z(){const t="en"===e()?"en-US":"ru-RU",o=(new Date).toLocaleDateString(t,Y);X.textContent=o,setTimeout(Z,1e3)}Z();const z=document.querySelector("#weatherCity"),F=document.querySelector("#weatherIcon"),K=document.querySelector("#weatherTemp"),tt=document.querySelector("#weatherDesc"),et=document.querySelector("#weatherWind"),ot=document.querySelector("#weatherHumidity"),nt=document.querySelector(".weather-widget__error"),at=document.querySelector(".weather-widget__info");let ct;async function it(){const t=e();document.querySelector("#weatherCity").placeholder="en"===t?"[Enter city]":"[Введите город]";try{"Минск"!==ct&&"Minsk"!==ct||(document.querySelector("#weatherCity").value="en"===t?"Minsk":"Минск");const e=`https://api.openweathermap.org/data/2.5/weather?q=${ct}&lang=${t}&appid=01d522b353a969527c35ef13f4db2c3e&units=metric`,o=await fetch(e),n=await o.json(),a=n.weather[0].id,c=n.weather[0].description,i=Math.floor(n.main.temp),d=Math.floor(n.wind.speed),r=Math.floor(n.main.humidity);F.classList.add(`owf-${a}`),K.textContent=`${i} °C`,tt.textContent=c,et.textContent=`${"en"==t?"Wind speed":"Скорость ветра"}: ${d} m/c`,ot.textContent=`${"en"==t?"Humidity":"Влажность"}: ${r} %`,nt.classList.add("hidden"),at.classList.remove("hidden")}catch(e){nt.classList.remove("hidden"),at.classList.add("hidden"),nt.textContent="en"===t?`Unfortunately, "${ct}" does not exist :(`:`К сожалению, "${ct}" не существует :(`}}z.addEventListener("focus",(e=>t(e))),z.addEventListener("blur",(e=>t(e))),z.addEventListener("change",(t=>{ct=t.target.value,it()})),window.addEventListener("beforeunload",(()=>{localStorage.setItem("city",document.querySelector("#weatherCity").value)})),window.addEventListener("load",(()=>{localStorage.getItem("city")?(ct=localStorage.getItem("city"),document.querySelector("#weatherCity").value=localStorage.getItem("city")):(ct="Minsk",document.querySelector("#weatherCity").value="Minsk"),it()}));const dt=document.querySelectorAll('input[name="lang"]'),rt=document.querySelector(".langs-title"),lt=document.querySelector(".en-radio"),st=document.querySelector(".ru-radio"),ut=document.querySelector(".widgets-title"),mt=document.querySelector(".audio-checkbox"),yt=document.querySelector(".weather-checkbox"),gt=document.querySelector(".time-checkbox"),ht=document.querySelector(".date-checkbox"),pt=document.querySelector(".greeting-checkbox"),vt=document.querySelector(".quote-checkbox"),ft=document.querySelector(".todo-checkbox"),St=document.querySelector(".photos-title"),xt=document.querySelector(".phototag-title"),Lt=document.querySelector(".photo-note");function qt(){"ru"===e()?(rt.textContent="Настройки",lt.textContent="Английский",st.textContent="Русский",ut.textContent="Активные виджеты",mt.textContent="Аудио",yt.textContent="Погода",gt.textContent="Время",ht.textContent="Дата",pt.textContent="Приветствие",vt.textContent="Цитата",ft.textContent="Дела",St.textContent="Фон",xt.textContent="Фото тэг",Lt.textContent="*если выбран не github может быть задержка"):(rt.textContent="Settings",lt.textContent="English",st.textContent="Russian",ut.textContent="Active widgets",mt.textContent="Audio",yt.textContent="Weather",gt.textContent="Time",ht.textContent="Date",pt.textContent="Greeting",vt.textContent="Quote",ft.textContent="Todo",St.textContent="Photo Source",xt.textContent="Photo Tag",Lt.textContent="*if you chose not github, changing images can be slow")}qt(),dt.forEach((t=>{t.addEventListener("change",Vt)}));const wt=document.querySelectorAll("input[data-todolist]"),bt=document.querySelectorAll("ul[data-todolist]"),Et=document.querySelector("#newtodo"),Ct=document.querySelector(".inbox-title"),kt=document.querySelector(".today-title"),$t=document.querySelector(".done-title"),_t=document.querySelector(".new-todo-input");let Mt,Tt,It="inbox",At=document.querySelector('ul[data-todolist="inbox"]');function Dt(){It=this.dataset.todolist,At=document.querySelector(`ul[data-todolist="${It}"]`),bt.forEach((t=>t.dataset.todolist===It?t.classList.remove("hidden"):t.classList.add("hidden"))),Bt()}function Nt(t){const e=t.target.dataset.id,o=t.target.dataset.category;let n;"done"===It?(n=Mt[o].map((t=>t.id==e?{...t,completed:!1}:t)),Mt[o]=n):n=Mt[It].map((t=>t.id==e?{...t,completed:!t.completed}:t)),Mt[It]=n;let a=Mt.inbox.filter((t=>t.completed)),c=Mt.today.filter((t=>t.completed));Mt.done=a.concat(c),Gt(),Bt()}function Ht(t){const e=t.target,o=e.closest(".todo-item"),n=o.attributes["data-todoid"].value,a=o.attributes["data-category"].value;e.parentElement.parentElement.classList.add("hidden");let c=Mt[a].findIndex((t=>t.id==n));Mt[a].splice(c,1);let i=Mt.inbox.filter((t=>t.completed)),d=Mt.today.filter((t=>t.completed));Mt.done=i.concat(d),Gt(),Bt()}function Pt(){const t=this.closest(".todo-item"),e=t.querySelector(".todo-item-text"),o=t.attributes["data-todoid"].value;this.parentElement.parentElement.classList.add("todo-menu-hidden"),e.disabled=!1,e.focus();let n=e.value;e.value="",e.value=n,e.addEventListener("change",(()=>function(t,e){const o=Mt[It].map((o=>o.id==e?{...o,text:t.value}:o));Mt[It]=o,t.disabled=!0;let n=Mt.inbox.filter((t=>t.completed)),a=Mt.today.filter((t=>t.completed));Mt.done=n.concat(a),Gt(),Bt()}(e,o)))}function jt(){const t=this.closest(".todo-item"),e=t.attributes["data-todoid"].value,o=t.attributes["data-category"].value,n="inbox"==o?"today":"inbox",a={...Mt[o].find((t=>t.id==e)),category:n};let c=Mt[o].findIndex((t=>t.id==e));Mt[o].splice(c,1),Mt[n].push(a),Gt(),Bt()}function Ot(t){const e=t.target.parentNode.querySelector(".todo-menu");Tt&&Tt!=e&&Tt.classList.add("todo-menu-hidden"),e.classList.contains("todo-menu-hidden")?e.classList.remove("todo-menu-hidden"):e.classList.add("todo-menu-hidden"),Tt=e}async function Bt(){At.innerHTML=Mt[It].length>0?Mt[It].map((t=>`\n        <li class="${!0===t.completed?"todo-item todo-item--completed":"todo-item"}" data-todoid="${t.id}" data-category="${t.category}">\n        \n          <label class="checkbox-container">\n            <input class="checkbox-input todo-checkbox" type="checkbox" data-id="${t.id}" data-category="${t.category}" ${!0===t.completed?"checked":""}>\n            <span class="checkbox-checkmark"></span>\n          </label>\n          \n          <input class="input todo-item-text" value="${t.text}" disabled />\n          <div class="todo-item-menu-area">\n            <button class="todo-item-menu btn input-inactive" title="Todo Menu" data-id="${t.id}" data-category="${t.category}"></button>\n            <div class="todo-menu todo-menu-hidden">\n              <ul class="todo-menu-list">\n                <li class="${"done"===It?"todo-item-edit hidden":"todo-item-edit"}">\n                  Edit\n                </li>\n                <li class="${"done"===It?"todo-item-move hidden":"todo-item-move"}">Move\n                </li>\n                <li class="todo-item-delete">\n                  Delete\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>`)).join(""):`<div class="todolist-empty">\n          <h3>${"done"===It?'<div class="todo-empty-done"></div>':"today"===It?'<div class="todo-empty-today"></div>':'<div class="todo-empty-inbox"></div>'}</h3>\n        </div>`;const t=document.querySelectorAll(".todo-checkbox"),e=document.querySelectorAll(".todo-item-menu"),o=document.querySelectorAll(".todo-item-edit"),n=document.querySelectorAll(".todo-item-delete"),a=document.querySelectorAll(".todo-item-move");t.forEach((t=>t.addEventListener("change",Nt))),e.forEach((t=>t.addEventListener("click",Ot))),n.forEach((t=>t.addEventListener("click",Ht))),o.forEach((t=>t.addEventListener("click",Pt))),a.forEach((t=>t.addEventListener("click",jt))),Ut()}function Gt(){localStorage.setItem("todos",JSON.stringify(Mt))}function Ut(){const t=e(),o=document.querySelectorAll(".todo-item-edit"),n=document.querySelectorAll(".todo-item-delete"),a=document.querySelectorAll(".todo-item-move"),c=document.querySelector(".todo-empty-done"),i=document.querySelector(".todo-empty-today"),d=document.querySelector(".todo-empty-inbox");"ru"===t?(Ct.textContent="Общее",kt.textContent="Сегодня",$t.textContent="Выполнено",o.forEach((t=>t.textContent="Изменить")),n.forEach((t=>t.textContent="Удалить")),a.forEach((t=>t.textContent="Переместить")),c&&(c.innerHTML='Вы не закончили ни одно дело... <span class="note">Скорее выполните что-то!</span>'),i&&(i.innerHTML='Здесь будут ваши дела на сегодня <span class="note">(наконец помыть посуду?)</span>'),d&&(d.innerHTML='Здесь будут ваши общие дела <span class="note">(может жизненная цель?)</span>'),_t.placeholder="Новое дело..."):(Ct.textContent="Inbox",kt.textContent="Today",$t.textContent="Done",o.forEach((t=>t.textContent="Edit")),n.forEach((t=>t.textContent="Delete")),a.forEach((t=>t.textContent="Move")),c&&(c.innerHTML='You haven\'t completed any todo yet... <span class="note">Hurry up to do something!</span>'),i&&(i.innerHTML='Place for your today\'s todo <span class="note">(finally wash the dishes?)</span>'),d&&(d.innerHTML='The place for your general todo <span class="note">(maybe a lifegoal?)</span>'),_t.placeholder="New todo...")}wt.forEach((t=>t.addEventListener("change",Dt))),Et.addEventListener("focus",(e=>t(e))),Et.addEventListener("blur",(e=>t(e))),Et.addEventListener("keyup",(t=>{13===t.keyCode&&(t.preventDefault(),function(t){const e=t.target,o=e.value;let n;"done"===It?(n={id:Date.now(),text:o,category:"inbox",completed:!0},Mt.inbox.push(n)):n={id:Date.now(),text:o,category:It,completed:!1},Mt[It].push(n),Gt(),Bt(),e.value=""}(t))})),window.addEventListener("load",(async()=>{Mt=localStorage.getItem("todos")?JSON.parse(localStorage.getItem("todos")):{inbox:[],today:[],done:[]},await Bt()}));const Jt=document.querySelector("#enLang"),Rt=document.querySelector("#ruLang");let Wt;function Vt(){const t=this.value;localStorage.setItem("lang",t),Wt=this.value,s(),g(),p(),v(),async function(){M=e(),T.forEach((t=>t.querySelector(".playlist-item__name").textContent="en"==M?f[t.dataset.id-1].title_en:f[t.dataset.id-1].title_ru)),q.textContent="en"==M?f[N].title_en:f[N].title_ru}(),Z(),it(),qt(),Ut()}window.addEventListener("load",(()=>{"en"==e()?Jt.checked=!0:(Jt.checked=!1,Rt.checked=!0)})),o(52);const Qt=document.querySelectorAll(".source-radio"),Xt=document.querySelector("#photoTag");let Yt,Zt;async function zt(){Yt=this.dataset.source,localStorage.setItem("source",JSON.stringify(Yt)),ce()}function Ft(){return Yt=localStorage.getItem("source")?JSON.parse(localStorage.getItem("source")):"github",Yt}function Kt(){return localStorage.getItem("tag")?(Zt=JSON.parse(localStorage.getItem("tag")),Xt.value=Zt):(Xt.value="",Zt=""),"github"===Yt?(Xt.value="-",Xt.disabled=!0):(Xt.value=Zt,Xt.disabled=!1),Zt}window.addEventListener("load",(()=>{Zt=Kt(),Yt=Ft(),Qt.forEach((t=>{t.dataset.source===Yt?t.checked=!0:t.checked=!1}))})),Qt.forEach((t=>{t.addEventListener("change",zt)})),Xt.addEventListener("change",(function(){Zt=this.value,localStorage.setItem("tag",JSON.stringify(Zt)),ce()}));const te=document.querySelector("#slidePrev"),ee=document.querySelector("#slideNext"),oe=document.querySelector("#imageLoader");te.addEventListener("click",(function(){1!=ne?ne--:ne=20,ce()})),ee.addEventListener("click",(function(){20!=ne?ne++:ne=1,ce()}));let ne=Math.floor(20*Math.random())+1;function ae(t){return t.toString().padStart(2,0)}async function ce(){oe.classList.add("show");const t=await y(),e=Ft(),o=Kt();let n;const a=""!==o?o:t;if("unsplash"===e){const t=await fetch(`https://api.unsplash.com/photos/random?orientation=landscape&per_page=1&query=${a}&client_id=ZMe8BGgm8MXpmbZUBCgMi4m1CTgEQhzy90dkk9gjcpY`);n=(await t.json()).urls.raw,console.log(`✨ URL изображения: ${t.url}`),console.log(`✨ Тэг: ${a}`)}if("flickr"===e){const t=await fetch(`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=d67d8fac287c9a1f0a13e08a11231403&tags=${a}&tag_mode=all&extras=url_h&format=json&nojsoncallback=1`),e=(await t.json()).photos.photo;n=e[Math.floor(Math.random()*e.length)].url_h,console.log(`✨ URL изображения: ${t.url}`),console.log(`✨ Тэг: ${a}`)}"github"===e&&(console.log(`✨ Изображения перелистываются последовательно: ${ae(ne)}`),n=`https://raw.githubusercontent.com/liliyavoloshina/stage1-tasks/assets/images/${t}/${ae(ne)}.jpg`,console.log(`✨ URL изображения: ${n}`));const c=new Image;c.src=n,c.addEventListener("load",(()=>{document.body.style.backgroundImage=`url('${c.src}')`,oe.classList.remove("show")}))}ce(),o(396),o(265)})()})();